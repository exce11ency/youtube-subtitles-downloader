<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Download YouTube Subtitles | YT Growth - Free SRT & TXT Captions</title> <!-- SEO Optimized Title -->
    <meta name="description" content="Instantly download YouTube subtitles and captions for free in SRT and TXT formats. Get accurate video transcripts quickly and easily for any YouTube video."> <!-- SEO Optimized Description -->

    <!-- Google Analytics (GA4) Global Site Tag (gtag.js) -->
    <!-- YOUR ACTUAL MEASUREMENT ID IS 'G-TQ5W6J1PGB' -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-TQ5W6J1PGB"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-TQ5W6J1PGB');
    </script>

    <!-- Google Translate Element -->
    <script type="text/javascript">
    function googleTranslateElementInit() {
      // Set pageLanguage to 'en' as the default/source language of the page content
      new google.translate.TranslateElement({pageLanguage: 'en', autoDisplay: true}, 'google_translate_element');
    }
    </script>
    <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

    <!-- Tailwind CSS CDN for easy styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0f0f0f; /* Deep dark background */
            color: #e0e0e0;
        }
        /* Custom scrollbar for subtitle display area */
        .subtitle-results::-webkit-scrollbar {
            width: 8px;
        }
        .subtitle-results::-webkit-scrollbar-track {
            background: #1a1a1a; /* Darker track */
            border-radius: 4px;
        }
        .subtitle-results::-webkit-scrollbar-thumb {
            background: #4a4a4a; /* Medium gray */
            border-radius: 4px;
        }
        .subtitle-results::-webkit-scrollbar-thumb:hover {
            background: #6a6a6a; /* Lighter gray on hover */
        }

        /* NEW: Soft hiding for Google Translate widget to avoid GA conflict */
        #google-translate-wrapper {
            position: absolute;
            left: -9999px; /* Move it far off-screen */
            top: 0;
            width: 1px; /* Minimal dimensions */
            height: 1px;
            overflow: hidden; /* Hide anything that might pop out */
            z-index: -1; /* Ensure it's behind everything else if it somehow appears */
        }

        /* Ensure no other aggressive hiding rules are active for Google Translate related elements */
        /* You can remove any previous commented-out display:none rules for .goog-te-banner-frame or .skiptranslate if they still exist */
    </style>
</head>
<body class="flex flex-col min-h-screen bg-[#0F0F0F] text-gray-100 antialiased">
    <!-- Header Section - Top bar matching reference -->
    <header class="w-full bg-[#1A1A1A] py-3 px-6 border-b border-[#2A2A2A] shadow-md">
        <div class="container mx-auto flex items-center justify-between">
            <a href="#" class="flex items-center space-x-2">
                <!-- Simple text logo to match reference -->
                <span class="text-2xl font-bold text-white">YT Growth</span>
            </a>
            <nav class="hidden md:flex items-center space-x-6 text-gray-400 font-medium">
                <a href="#" class="hover:text-white transition duration-200">Tools</a>
                <a href="#" class="hover:text-white transition duration-200">Pricing</a>
                <a href="#" class="hover:text-white transition duration-200">Blog</a>
                <a href="#" class="hover:text-white transition duration-200">FAQ</a>
                <a href="#" class="hover:text-white transition duration-200">Contact</a>
                <a href="#" class="px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-md text-sm font-semibold hover:from-purple-700 hover:to-pink-700 transition duration-200">
                    Get Started
                </a>
            </nav>
            <!-- Google Translate Element Wrapper - Hidden off-screen -->
            <div id="google-translate-wrapper">
                <div id="google_translate_element"></div>
            </div>
        </div>
    </header>

    <!-- Hero Section / Main Content Area - Dark, central container -->
    <main class="flex-grow flex items-center justify-center py-16 px-4">
        <div class="w-full max-w-4xl bg-[#1A1A1A] p-8 md:p-12 rounded-xl shadow-2xl border border-[#2A2A2A]">
            <div class="text-center mb-10">
                <h2 class="text-5xl md:text-6xl font-extrabold text-white leading-tight mb-4">
                    Download YouTube Subtitles
                </h2>
                <p class="text-xl text-gray-400 max-w-2xl mx-auto">
                    Instantly download subtitles from any YouTube video in TXT and SRT formats.
                    Just paste the link and get your desired captions!
                </p>
            </div>

            <!-- Subtitle Downloader Form - Replaces original CTA buttons -->
            <div class="bg-[#2A2A2A] p-6 rounded-lg shadow-inner border border-[#3A3A3A] mb-8">
                <label for="youtubeUrl" class="block text-base font-medium text-gray-300 mb-3">
                    Enter YouTube Video URL:
                </label>
                <div class="flex flex-col sm:flex-row gap-4">
                    <input
                        type="url"
                        id="youtubeUrl"
                        placeholder="e.g., https://www.youtube.com/watch?v=dQw4w9WgXcQ"
                        class="flex-grow px-5 py-3 bg-[#1A1A1A] border border-[#3A3A3A] rounded-md text-gray-100 placeholder-gray-500 focus:ring-purple-500 focus:border-purple-500 outline-none transition duration-200 text-base"
                        value=""
                    >
                    <button
                        id="fetchSubtitlesBtn"
                        class="px-8 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold rounded-md shadow-lg hover:from-purple-700 hover:to-pink-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-600 focus:ring-offset-[#2A2A2A] transition duration-200 transform hover:scale-105 flex-shrink-0"
                    >
                        <svg class="w-5 h-5 inline-block mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
                        Fetch Subtitles
                    </button>
                </div>
            </div>

            <!-- Loading, Error, and Results Display -->
            <div id="loadingIndicator" class="hidden text-center text-purple-400 font-medium text-lg mb-6">
                Loading available subtitles...
            </div>

            <div id="errorDisplay" class="hidden mt-6 p-4 bg-red-900 border border-red-700 text-red-200 rounded-md relative text-base" role="alert">
                <strong class="font-bold">Error:</strong>
                <span class="block sm:inline" id="errorMessage"></span>
            </div>

            <div id="subtitleResults" class="mt-8 pt-6 border-t border-[#2A2A2A] hidden">
                <h3 class="text-2xl font-semibold text-white mb-5">Available Subtitles:</h3>
                <div id="subtitleList" class="space-y-4 max-h-80 overflow-y-auto pr-2 subtitle-results">
                    <!-- Subtitle options will be populated here -->
                </div>
                <p id="noSubtitlesMessage" class="hidden text-gray-400 mt-4 text-center">
                    No subtitles found for this video, or they are not publicly available.
                </p>
            </div>

            <!-- Ad Placeholder: Below Subtitle Downloader - Subtle styling -->
            <div class="mt-8 p-6 bg-[#2A2A2A] border border-[#3A3A3A] rounded-lg text-center text-base text-gray-300">
                [Your Ad Block Here]
            </div>
        </div>
    </main>

    <!-- Detailed SEO Content Section -->
    <section class="py-16 px-4 bg-[#0F0F0F] text-gray-100 border-t border-[#1A1A1A]">
        <div class="container mx-auto text-left max-w-4xl">
            <h2 class="text-4xl font-extrabold text-white mb-6">Why Download YouTube Subtitles?</h2>
            <p class="text-lg text-gray-400 mb-6">
                Downloading YouTube subtitles offers numerous benefits for content creators, students, researchers, and anyone looking to get more from video content. Our **free YouTube subtitle downloader** allows you to easily extract accurate text from any public video.
            </p>
            <h3 class="text-2xl font-semibold text-white mb-4">Enhance Your Learning & Accessibility</h3>
            <p class="text-gray-400 mb-6">
                Transcripts are invaluable for educational purposes. You can save lectures, tutorials, and informational videos as text, making it easier to review key points, search for specific information, or print for offline study. This is especially helpful for language learners who want to study dialogue at their own pace. Our tool provides **YouTube video transcripts** that are ready for your study needs.
            </p>
            <h3 class="text-2xl font-semibold text-white mb-4">Boost Content Creation & SEO</h3>
            <p class="text-gray-400 mb-6">
                For content creators, having a **YouTube captions file (SRT or TXT)** can significantly improve video accessibility and SEO. You can repurpose captions for blog posts, social media content, or even create new videos based on existing transcripts. Providing accurate captions makes your content accessible to a wider audience, including those with hearing impairments, and helps search engines understand your video's topic better. Use our **SRT YouTube downloader** to get started.
            </p>
            <h3 class="text-2xl font-semibold text-white mb-4">Quick & Easy Subtitle Download</h3>
            <p class="text-gray-400 mb-6">
                Our platform simplifies the process to **get YouTube transcript** files. No complex software installations required. Just paste the YouTube video URL into our intuitive tool, select your desired language and format (SRT or TXT), and download the subtitles instantly. It's a hassle-free solution for all your **YouTube video captions download** needs. Experience the convenience of a **free YouTube subtitle download** service designed for efficiency.
            </p>
        </div>
    </section>


    <!-- Placeholder Sections (Inactive as requested) - AI Tools section moved here, above footer -->
    <section class="py-16 px-4 bg-[#0F0F0F] text-gray-100 border-t border-[#1A1A1A]">
        <div class="container mx-auto text-center max-w-4xl">
            <h2 class="text-4xl font-extrabold text-white mb-6">Explore Our AI Tools for YouTube</h2>
            <p class="text-lg text-gray-400 mb-10">
                Unlock the full potential of your YouTube content with our advanced AI-powered features.
            </p>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="bg-[#1A1A1A] p-6 rounded-lg border border-[#2A2A2A] shadow-lg">
                    <div class="text-5xl mb-4">âœ¨</div>
                    <h3 class="text-xl font-semibold text-white mb-2">Caption Generation</h3>
                    <p class="text-gray-400">Automatically generate accurate captions for your videos.</p>
                </div>
                <div class="bg-[#1A1A1A] p-6 rounded-lg border border-[#2A2A2A] shadow-lg">
                    <div class="text-5xl mb-4">ðŸ’¬</div>
                    <h3 class="text-xl font-semibold text-white mb-2">Comment Analysis</h3>
                    <p class="text-gray-400">Gain insights from your audience's comments with AI.</p>
                </div>
                <div class="bg-[#1A1A1A] p-6 rounded-lg border border-[#2A2A2A] shadow-lg">
                    <div class="text-5xl mb-4">ðŸ“Š</div>
                    <h3 class="text-xl font-semibold text-white mb-2">Performance Analytics</h3>
                    <p class="text-gray-400">Track and optimize your video performance effortlessly.</p>
                </div>
            </div>
            <p class="mt-10 text-gray-500 italic">
                (These sections are placeholders and not yet active. Functional features coming soon!)
            </p>
        </div>
    </section>

    <!-- Footer Section - Minimalist, matching reference -->
    <footer class="w-full bg-[#1A1A1A] py-8 px-6 border-t border-[#2A2A2A] text-gray-400">
        <div class="container mx-auto text-center text-sm space-y-4">
            <p>&copy; 2025 YT Growth. All rights reserved.</p>
            <nav class="flex justify-center space-x-4">
                <a href="#" class="hover:text-white transition duration-200">Privacy Policy</a>
                <span class="text-gray-600">|</span>
                <a href="#" class="hover:text-white transition duration-200">Terms of Service</a>
            </nav>
            <!-- Social Media Icons Placeholder (optional for future) -->
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const youtubeUrlInput = document.getElementById('youtubeUrl');
            const fetchSubtitlesBtn = document.getElementById('fetchSubtitlesBtn');
            const loadingIndicator = document.getElementById('loadingIndicator');
            const errorDisplay = document.getElementById('errorDisplay');
            const errorMessage = document.getElementById('errorMessage');
            const subtitleResultsDiv = document.getElementById('subtitleResults');
            const subtitleList = document.getElementById('subtitleList');
            const noSubtitlesMessage = document.getElementById('noSubtitlesMessage');

            // Function to show error message
            function showErrorMessage(message) {
                errorMessage.textContent = message;
                errorDisplay.classList.remove('hidden');
            }

            // Function to hide error message
            function hideErrorMessage() {
                errorDisplay.classList.add('hidden');
                errorMessage.textContent = '';
            }

            // Function to extract YouTube video ID from URL
            function getYouTubeVideoId(url) {
                // Regex updated to cover standard YouTube URLs, short YouTube URLs (youtu.be),
                // and YouTube Shorts URLs.
                const regExp = /(?:https?:\/\/)?(?:www\.)?(?:m\.)?(?:youtube\.com|youtu\.be)(?:\/watch\?v=|\/embed\/|\/v\/|\/shorts\/|)([\w-]{11})(?:\S+)?/;
                const match = url.match(regExp);
                return (match && match[1] && match[1].length === 11) ? match[1] : null;
            }

            // Event listener for the fetch button
            fetchSubtitlesBtn.addEventListener('click', async () => {
                hideErrorMessage();
                subtitleResultsDiv.classList.add('hidden');
                subtitleList.innerHTML = ''; // Clear previous results
                noSubtitlesMessage.classList.add('hidden');
                loadingIndicator.classList.remove('hidden'); // Show loading indicator

                const youtubeUrl = youtubeUrlInput.value.trim();
                const videoId = getYouTubeVideoId(youtubeUrl);

                if (!videoId) {
                    showErrorMessage('Please enter a valid YouTube video URL.');
                    loadingIndicator.classList.add('hidden');
                    return;
                }

                // --- ACTUAL BACKEND INTEGRATION ---
                // This is where we call our Flask backend.
                const backendApiUrl = `/api/fetch_subtitles`; // Relative path to our Flask app

                try {
                    const response = await fetch(backendApiUrl, {
                        method: 'POST', // We use POST as defined in app.py
                        headers: {
                            'Content-Type': 'application/json' // Tell the server we are sending JSON
                        },
                        body: JSON.stringify({ videoId: videoId }) // Send videoId in JSON format
                    });

                    // Check if the response was successful
                    if (!response.ok) {
                        const errorData = await response.json(); // Try to parse error message from backend
                        throw new Error(errorData.message || `HTTP error! status: ${response.status}`);
                    }

                    const data = await response.json(); // Parse the JSON response from the backend

                    if (data.success && data.subtitles.length > 0) {
                        data.subtitles.forEach(sub => {
                            const subtitleItem = document.createElement('div');
                            // Styling to match reference: dark background, subtle border, light text
                            subtitleItem.className = 'flex flex-col sm:flex-row sm:items-center justify-between p-4 bg-[#1A1A1A] rounded-md shadow-md border border-[#2A2A2A] text-gray-100';
                            subtitleItem.innerHTML = `
                                <span class="font-medium mb-2 sm:mb-0">${sub.name} (${sub.lang.toUpperCase()}${sub.is_auto_generated ? ' - Auto' : ''})</span>
                                <div class="flex flex-wrap gap-2">
                                    <a href="/api/download_subtitle?videoId=${videoId}&lang=${sub.lang}&format=txt"
                                       class="px-3 py-1 bg-blue-600 text-white rounded-md shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition duration-150 ease-in-out flex items-center text-sm">
                                        TXT
                                    </a>
                                    <a href="/api/download_subtitle?videoId=${videoId}&lang=${sub.lang}&format=srt"
                                       class="px-3 py-1 bg-green-600 text-white rounded-md shadow-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition duration-150 ease-in-out flex items-center text-sm">
                                        SRT
                                    </a>
                                </div>
                            `;
                            subtitleList.appendChild(subtitleItem);
                        });
                        subtitleResultsDiv.classList.remove('hidden');
                    } else {
                        noSubtitlesMessage.classList.remove('hidden');
                        subtitleResultsDiv.classList.remove('hidden'); // Show the results div even if no subtitles
                    }
                } catch (error) {
                    console.error('Error fetching subtitles:', error);
                    showErrorMessage(`Error: ${error.message || 'Could not fetch subtitles. Please check the URL or try again later.'}`);
                } finally {
                    loadingIndicator.classList.add('hidden'); // Hide loading indicator
                }
            });
        });
    </script>
</body>
</html>